<!DOCTYPE html>
<html lang="">
<head>
  <title>Calculadora</title>
</head>
<body>
<label>Primer numero:</label>
<label for="num1"></label><input type="text" id="num1"><br>
<label>Segundo numero:</label>
<label for="num2"></label><input type="text" id="num2"><br>
<button onclick="sumar()">Sumar</button>
<button onclick="restar()">Restar</button>
<button onclick="multiplicar()">Multiplicar</button>
<button onclick="dividir()">Dividir</button><br>
<label>Resultado:</label>
<p id="resultado">Ingrese numeros y haga clic en una operacion para obtener el resultado</p>

<script>
  function sumar() {
    const num1 = document.getElementById('num1').value;
    const num2 = document.getElementById('num2').value;
    const xhr = new XMLHttpRequest();
    xhr.open('POST', '/sumar');
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhr.onload = function() {
      document.getElementById('resultado').innerHTML = JSON.parse(xhr.responseText).resultado;
    };
    xhr.send(`num1=${num1}&num2=${num2}`);
  }

  function restar() {
    const num1 = document.getElementById('num1').value;
    const num2 = document.getElementById('num2').value;
    const xhr = new XMLHttpRequest();
    xhr.open('POST', '/restar');
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhr.onload = function() {
      document.getElementById('resultado').innerHTML = JSON.parse(xhr.responseText).resultado;
    };
    xhr.send(`num1=${num1}&num2=${num2}`);
  }

  function multiplicar() {
    const num1 = document.getElementById('num1').value;
    const num2 = document.getElementById('num2').value;
    const xhr = new XMLHttpRequest();
    xhr.open('POST', '/multiplicar');
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhr.onload = function() {
      document.getElementById('resultado').innerHTML = JSON.parse(xhr.responseText).resultado;
    };
    xhr.send(`num1=${num1}&num2=${num2}`);
  }

  function dividir() {
    const num1 = document.getElementById('num1').value;
    const num2 = document.getElementById('num2').value;
    const xhr = new XMLHttpRequest();
    xhr.open('POST', '/dividir');
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhr.onload = function() {
      const response = JSON.parse(xhr.responseText);
      if (response.error) {
        document.getElementById('resultado').innerHTML = response.error;
      } else {
        document.getElementById('resultado').innerHTML = "El resultado es: " + response.resultado;
      }
    };

    xhr.send(`num1=${num1}&num2=${num2}`);
  }
</script>
</body>
</html>